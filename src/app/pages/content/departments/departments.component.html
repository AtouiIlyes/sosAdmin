<div class="grid-container">
  <mat-card>
    <mat-card-content>
      <dx-data-grid
        id="gridContainer"
        [dataSource]="departments"
        keyExpr="id"
        [showBorders]="true"
        [hoverStateEnabled]="true"
        (onRowInserted)="insertRow($event)"
        (onRowUpdated)="updateRow($event)"
        (onRowRemoved)="removeRow($event)"
      >
        <dxo-selection mode="single"></dxo-selection>
        <dxo-paging [pageSize]="10"></dxo-paging>
        <dxo-filter-row [visible]="true"></dxo-filter-row>
        <dxo-search-panel
          [visible]="true"
          [width]="240"
          placeholder="Recherche..."
        ></dxo-search-panel>
        <dxo-editing
          mode="popup"
          [allowUpdating]="true"
          [allowAdding]="true"
          [allowDeleting]="true"
          [useIcons]="true"
        >
          <dxo-popup
            title="Edition Moyen d'urgence"
            [showTitle]="true"
            [width]="700"
            [height]="450"
            [dragEnabled]="true"
            [position]="{ my: 'center', at: 'center', of: 'window' }"
            [showCloseButton]="false"
            [closeOnOutsideClick]="true"
          >
          </dxo-popup>
        </dxo-editing>
        <dxi-column dataField="name" caption="Nom">
          <dxi-validation-rule
            type="required"
            message="Champ Obligatoire"
          ></dxi-validation-rule>

          <dxi-validation-rule
            type="stringLength"
            [min]="2"
            message="Nom doit avoir au moins 2 caractÃ©res"
          >
          </dxi-validation-rule>
        </dxi-column>
        <dxi-column dataField="lat" caption="Lat">
          <dxi-validation-rule
            type="required"
            message="Champ Obligatoire"
          ></dxi-validation-rule>
        </dxi-column>
        <dxi-column dataField="lon" caption="Lon">
          <dxi-validation-rule
            type="required"
            message="Champ Obligatoire"
          ></dxi-validation-rule>
        </dxi-column>

        <dxi-column dataField="role" caption="Type">
          <dxo-lookup
          [dataSource]="departmentTypes"
          displayExpr="value"
          valueExpr="id"
        >
        </dxo-lookup>
          <dxi-validation-rule
            type="required"
            message="Champ Obligatoire"
          ></dxi-validation-rule>
        </dxi-column>
      </dx-data-grid>
    </mat-card-content>
  </mat-card>
</div>
